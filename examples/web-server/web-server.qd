use net

fn main( -- ) {
	"Serving on http://localhost:8080/" . nl

	// Create server socket on port 8080
	8080 net::listen

	// Loop forever accepting connections
	loop {
		dup net::accept

		// Read the request (ignore it)
		dup 1024 net::receive
		drop drop

		// Send HTTP response
		dup
		"HTTP/1.0 200 OK\r\nContent-Type: text/plain\r\nContent-Length: 6\r\n\r\nHello!" net::send
		drop
		net::close
	}
}
