// Test basic file write and read operations
use io

fn main( -- ) {
	// Write to a file
	"/tmp/test_quadrate_io.txt" io::Write io::open if {
		dup "Hello, Quadrate!\n" io::write if {
			drop
			io::close
		} else {
			drop io::close
		}
	} else {
		drop
	}

	// Read from the file
	"/tmp/test_quadrate_io.txt" io::Read io::open if {
		dup 100 io::read if {
			drop swap
			io::close
			prints
		} else {
			drop drop io::close
		}
	} else {
		drop
	}
}
