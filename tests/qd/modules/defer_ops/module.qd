// Defer operations in modules
pub fn with_cleanup( x:f64 -- result:f64 ) {
	defer {
		100.0 print nl
	}
	2.0 mul
}

pub fn nested_defer( x:f64 -- result:f64 ) {
	defer {
		300.0 print nl
	}
	defer {
		200.0 print nl
	}
	10.0 add
	defer {
		100.0 print nl
	}
}

pub fn defer_with_computation( x:f64 y:f64 -- result:f64 ) {
	defer {
		50.0 25.0 add print nl
	}
	add
}

pub fn early_return( x:f64 -- result:f64 ) {
	defer {
		999.0 print nl
	}
	dup 0.0 lt
	if {
		drop -1.0
	} else {
		2.0 mul
	}
}
